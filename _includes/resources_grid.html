{% assign filter = page.title | downcase %}
{% assign posts = site.resources | where_exp: "resource", "resource.categories contains filter" %}



  <div class="row">
      <!-- Filters -->
      <div class="col-md-3">
          <div style="text-decoration: underline;"><span><i class="fa fa-filter"></i>&nbsp;Filter by: </span></div>
          <div class="form-check">
            <input type="checkbox" checked class="form-check-input" id="all">
            <label class="form-check-label" for="stem">All</label>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="sandbox">
            <label class="form-check-label" for="stem">Sandbox</label>
          </div>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="web">
            <label class="form-check-label" for="stem">Web</label>
          </div>
          <!-- Add more filters as needed -->
      </div>
      <!-- List of Cards -->
      <div class="col-md-9">
          <div class="row" id="card-container">
              <!-- Cards will be dynamically populated here -->
          </div>
      </div>
  </div>


<!-- Add Bootstrap JS and jQuery for checkbox filtering -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
  // Example array of JavaScript objects representing card

  const cardData = {{ posts | jsonify }};

  // Function to populate cards
  function populateCards() {
      const cardContainer = document.getElementById('card-container');
      cardContainer.innerHTML = '';

      cardData.forEach(cardObj => {
          const cardHtml = `
              <div class="col-md-4 mb-3 filterable-card" data-filters="${cardObj.tags.join(' ')}">
                  <div class="card">
                    <img class="img-fluid" src=${cardObj.caption.thumbnail} alt="">
                      <div class="card-body">
                          <h5 class="card-title">${cardObj.title}</h5>
                          <p class="card-text">${cardObj.subtitle}</p>
                          <a href=${cardObj.link} target="_blank" class="btn btn-primary stretched-link">View</a>
                      </div>
                  </div>
              </div>
          `;
          cardContainer.innerHTML += cardHtml;
      });
  }

  // Function to filter cards based on checkboxes
  function filterCards() {
      const selectedFilters = [];
      // Get all selected filters
      $('input[type="checkbox"]:checked').each(function () {
          selectedFilters.push($(this).attr('id'));
      });

      // Show/hide cards based on selected filters
      $('.filterable-card').each(function () {
          const card = $(this);
          const filters = card.data('filters').split(' ');
          const showCard = filters.some(filter => selectedFilters.includes(filter));
          card.toggleClass('d-none', !showCard);
      });
  }

  // Initialize filtering on page load and when checkboxes change
  $(document).ready(function () {
      $('input[type="checkbox"]').change(filterCards);
      populateCards();
      filterCards();
  });
</script>








